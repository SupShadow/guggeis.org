---
// Mitmachen-Sektion - SPD Mitglied werden
---

<section id="mitmachen" class="relative bg-primary py-16 lg:py-28" data-animate>
  <!-- Angled top edge -->
  <div class="absolute top-0 left-0 right-0 h-16 bg-white transform -skew-y-2 origin-top-right -translate-y-8"></div>

  <div class="max-w-7xl mx-auto px-6 lg:px-12 text-center">
    <span class="inline-block text-white/80 font-headline text-sm uppercase tracking-widest mb-4">
      Eine Bitte
    </span>
    <h2 class="text-3xl sm:text-4xl lg:text-5xl text-white mb-6">
      Das schaffe ich nicht allein.
    </h2>
    <p class="text-base sm:text-lg lg:text-xl text-white/90 max-w-2xl mx-auto mb-10 leading-relaxed">
      Straubing zu ver채ndern braucht mehr als eine Stimme. Es braucht eine Bewegung.
      Du musst kein Parteimitglied sein, um mitzumachen. Teile meine Ideen, komm zu Veranstaltungen,
      oder schreib mir einfach, was dich bewegt. <strong class="text-white">Jeder Beitrag z채hlt.</strong>
    </p>

    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center flex-wrap">
      <a
        href="#kontakt"
        class="btn bg-white text-primary hover:bg-sand w-full sm:w-auto"
      >
        Schreib mir
      </a>
      <button
        type="button"
        class="btn border-2 border-white text-white hover:bg-white hover:text-primary w-full sm:w-auto"
        id="share-page"
      >
        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
        </svg>
        Seite teilen
      </button>
      <a
        href="https://www.spd.de/unterstuetzen/mitglied-werden/"
        target="_blank"
        rel="noopener noreferrer"
        class="btn border-2 border-white text-white hover:bg-white hover:text-primary w-full sm:w-auto"
      >
        SPD Mitglied werden
      </a>
    </div>

    <!-- Trust indicators -->
    <div class="mt-12 pt-8 border-t border-white/20">
      <p class="text-white/70 text-sm">
        Du entscheidest, wie du dich einbringst. Hauptsache, du bist dabei.
      </p>
    </div>
  </div>
</section>

<script>
  const shareButton = document.getElementById('share-page');

  shareButton?.addEventListener('click', async () => {
    const shareData = {
      title: 'Julian Guggeis - Mutig f체r Straubing',
      url: window.location.href
    };

    const canShare = navigator.share && (!navigator.canShare || navigator.canShare(shareData));

    if (canShare) {
      try {
        await navigator.share(shareData);
      } catch (error) {
      }
      return;
    }

    const text = 'Schau dir das an: Julian Guggeis kandidiert f체r den Stadtrat 2026 in Straubing!';
    const shareUrl = `https://wa.me/?text=${encodeURIComponent(`${text} ${window.location.href}`)}`;
    window.open(shareUrl, '_blank', 'noopener,noreferrer');
  });
</script>
