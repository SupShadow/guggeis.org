---
// FAQ Sektion - Häufig gestellte Fragen
// Hilft besonders Persona B (Detail-Sucher) mit konkreten Informationen

const faqs = [
  {
    frage: "Wann ist die Kommunalwahl?",
    antwort: "Die Kommunalwahl in Bayern findet am <strong>8. März 2026</strong> statt. In Straubing wird an diesem Tag der Stadtrat gewählt. Ich kandidiere für den Stadtrat."
  },
  {
    frage: "Wo finde ich das Wahlprogramm?",
    antwort: "Die Kurzfassung findest du auf der <a href=\"/wahlprogramm\">Wahlprogramm-Seite</a>. Dort kannst du das <a href=\"/wahlprogramm/wahlprogramm-spd-straubing.pdf\">Wahlprogramm als PDF</a> und als <a href=\"/wahlprogramm/wahlprogramm-spd-straubing.docx\">DOCX</a> herunterladen."
  },
  {
    frage: "Für welche Partei kandidierst du?",
    antwort: "Ich kandidiere für die <strong>SPD</strong> auf <strong>SPD-Listenplatz 11</strong> für den Stadtrat Straubing. Die SPD steht für soziale Gerechtigkeit, bezahlbares Wohnen und eine starke kommunale Daseinsvorsorge."
  },
  {
    frage: "Was bringst du beruflich mit?",
    antwort: "Ich bin IT-Unternehmer seit <strong>2018</strong> und war von <strong>Sept. 2012 bis Okt. 2023</strong> Heilerziehungspfleger bei den Barmherzigen Brüdern Straubing. Diese Mischung aus Digitalisierung und sozialer Praxis prägt meinen Blick auf Politik."
  },
  {
    frage: "Was ist Kumulieren und Panaschieren?",
    antwort: "Bei der Stadtratswahl in Straubing hast du <strong>40 Stimmen</strong> (so viele wie Sitze). Du kannst einzelnen Kandidaten bis zu 3 Stimmen geben (kumulieren) und Kandidaten verschiedener Parteien wählen (panaschieren). So kannst du mir gezielt Stimmen geben – auch wenn du sonst andere Parteien wählst."
  },
  {
    frage: "Was ist das Teisnacher Modell?",
    antwort: "Beim <strong>Teisnacher Modell</strong> mietet die Stadt leerstehende Wohnungen an und gibt sie als bezahlbaren Wohnraum weiter. Eigentümer:innen erhalten Sicherheit, Mieter:innen faire Preise."
  },
  {
    frage: "Was bedeutet Straubing-Zulage?",
    antwort: "Die <strong>Straubing-Zulage</strong> ist eine städtische Zulage für Kinderpfleger:innen und Erzieher:innen in Straubinger Kitas. Sie macht den Beruf attraktiver und hilft gegen Fachkräftemangel."
  },
  {
    frage: "Wie kann ich dich unterstützen?",
    antwort: "Es gibt viele Möglichkeiten: <strong>Teile diese Seite</strong> mit Freunden und Familie, <strong>folge mir auf Instagram</strong> (@jguggeis), <strong>komm zu einer Veranstaltung</strong>, oder <strong>schreib mir</strong> deine Ideen für Straubing. Jede Stimme und jedes Gespräch zählt!"
  }
];

const stripHtml = (html: string) =>
  html.replace(/<[^>]*>/g, '').replace(/\s+/g, ' ').trim();

const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": faqs.map((faq) => ({
    "@type": "Question",
    "name": faq.frage,
    "acceptedAnswer": {
      "@type": "Answer",
      "text": stripHtml(faq.antwort)
    }
  }))
};
---

<script type="application/ld+json" set:html={JSON.stringify(faqSchema)} />

<section id="faq" class="py-14 sm:py-16 lg:py-24 bg-sand">
  <div class="max-w-4xl mx-auto px-6 lg:px-12">
    <span class="inline-block text-primary font-headline text-sm uppercase tracking-widest mb-4">
      Gut zu wissen
    </span>
    <h2 class="text-2xl sm:text-4xl text-dark mb-8 lg:mb-12">
      Fragen zur Wahl
    </h2>

    <div class="space-y-4" data-animate-stagger>
      {faqs.map((faq, index) => (
        <details class="group bg-white shadow-sm">
          <summary class="flex items-center justify-between cursor-pointer p-5 lg:p-6 font-medium text-sm sm:text-base text-dark hover:text-primary transition-colors">
            <span class="pr-4">{faq.frage}</span>
            <span class="flex-shrink-0 w-6 h-6 flex items-center justify-center text-primary transition-transform group-open:rotate-45">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v12m6-6H6" />
              </svg>
            </span>
          </summary>
          <div class="px-5 lg:px-6 pb-5 lg:pb-6 text-gray text-sm sm:text-base leading-relaxed border-t border-gray/10 pt-4">
            <p set:html={faq.antwort} />
          </div>
        </details>
      ))}
    </div>

    <div class="mt-10 text-center">
      <p class="text-gray mb-4">Noch Fragen? Schreib mir einfach!</p>
      <a href="#kontakt" class="btn btn-outline">
        Kontakt aufnehmen
      </a>
    </div>
  </div>
</section>
